<table><td>Original<br><canvas id=c style=width:45vw></canvas>
<td>Fourier<br><canvas id=d style=width:45vw></canvas></table>
<script>
dct=x=>{
r=[];
for(j=S;j--;)for(k=S;k--;)r[j]=~~r[j]+x[k]*Math.cos(2*Math.PI*j*k/S);
return r;
}

I=new Image();
I.onload=_=>{
S=c.width=c.height=d.width=d.height=I.naturalWidth;
x=c.getContext`2d`;
y=d.getContext`2d`;
x.drawImage(I,0,0);
e=x.getImageData(0,0,S,S);
d=e.data;
f=[];
m=0;
for(i=S;i--;f[i]=dct(r))for(r=[],j=S;j--;)r[j]=d[(i*S+j)*4];
f=f[0].map((_,c)=>f.map(r=>r[c]));
for(i=S;i--;)f[i]=dct(f[i]);
for(i=S;i--;)for(j=S;j--;)p=f[i][j]=(f[i][j]**2)**.15,m=Math.max(m,p);
for(i=S;i--;)for(j=S;j--;)y.fillRect(i,j,1,1-f[i][j]/m);
}
I.src='images/circle.png';
</script>
