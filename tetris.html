<pre id=Z><script>B=[y=x=t=r=!setInterval(onkeyup=e=>{u=[x,y,r];e?(g=e.which-38)?g-2?x-=g:y++:r++:y++;C=[...B,h=0];for(i=8;i--;i>3?a<0|a>9|(h|=b<0|B[b]>>a&1)?[x,y,r]=u:0:C[b]|=1<<a){a=i%4<2?i%4+4:'6768696009181'[t*2+i%4-2];b=a&3;a>>=2;for(j=r+=4;j--;a=f)f=b,b=2+!t-(t>5)-a;a+=x+4;b+=20-y}B=h&!e?C.filter(_=>_-1023?_:0,x=y=0,t=r%7):B;for(z=i=209;i;)Z.innerText=z+=' '+`.X
  `[i--%11?C[i/11|0]>>i%11&1:2]},200)]</script>
