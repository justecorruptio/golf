<body onload="B=[y=x=t=r=S=0];setInterval(onkeyup=e=>{u=[x,y,r+4];e&&(g=e.which-38)-2?g?x-=g:r++:y++;C=[...B];for(h=i=8;i--;a+=x+3,b+=20-y,i>3?a<0|a>9|B[b]>>a&1|b<0?[x,y,r,h]=u:0:C[b]|=1<<a)for(a='456768696009181'[i%4+(i&2)*t],b=a&3,a>>=2,j=r;j--;a=f)f=b,b=2+!t-(t>5)-a;B=h||e?B:C.filter(_=>_-1023?x=y=1:++S-S,t=r%7);for(z=S,i=209;i;)Z.innerText=z+=`_#
`[i--%11?C[i/11|0]>>i%11&1:2]+'| '},200)"id=Z>